<button (click)="login()">Login to Spotify</button>
<div *ngIf="authenticated">
    <input type="text" [(ngModel)]="genreQuery" placeholder="Enter genre">
    <input type="number" [(ngModel)]="quizSize" placeholder="Enter quiz size">
    <button (click)="searchGenre()">Search</button>

    <div *ngIf="quizTracks.length > 0">
        <div *ngIf="songNum >= 0 && songNum < quizTracks.length">
            <h1>Question {{songNum + 1}}:</h1>
            <audio controls [src]="quizTracks[songNum].preview_url"></audio>
            <input type="text" [(ngModel)]="userGuess" placeholder="Guess Song Title">

            <div *ngIf="!guessGraded">
                <button (click)="checkGuess(userGuess, quizTracks[songNum].name, quizTracks[songNum].artists[0].name)">Guess</button>
            </div>

            <div *ngIf="guessGraded">
                <div *ngIf="correctGuess">
                    <h1>Correct!</h1>
                    <h3>{{quizTracks[songNum].name}}</h3>
                    <h5>{{quizTracks[songNum].artists[0].name}}</h5>
                </div>
                <div *ngIf="!correctGuess">
                    <h1>Incorrect!</h1>
                    <h3>{{quizTracks[songNum].name}}</h3>
                    <h5>{{quizTracks[songNum].artists[0].name}}</h5>
                </div>

                <button (click)="nextQuestion()">Next Question</button>
            </div>
        </div>

        <div *ngIf="songNum === quizTracks.length">
            <h1>Quiz Complete!</h1>
            <h3>Score: {{userScore}}</h3>
        </div>
    </div>
</div>

